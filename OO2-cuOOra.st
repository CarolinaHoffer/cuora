Object subclass: #Publicacion	instanceVariableNames: 'texto creacion votos autor'	classVariableNames: ''	poolDictionaries: ''	category: 'OO2-cuOOra'!!Publicacion methodsFor: 'intialization' stamp: 'DoloresGarcia 3/29/2020 23:35'!initialize: unTexto with: unAutor  texto:= unTexto.  autor:= unAutor.  creacion:= DateAndTime now.  votos:= OrderedCollection new.! !!Publicacion methodsFor: 'intialization' stamp: 'HC 4/5/2020 01:07'!texto: unTexto autor: unAutor  texto:= unTexto.  autor:= unAutor.  creacion:= DateAndTime now.  votos:= OrderedCollection new.! !!Publicacion methodsFor: 'adding elements' stamp: 'DoloresGarcia 4/4/2020 21:32'!registrarVoto: unVoto	(votos		anySatisfy:			[ :each | each votante = unVoto votante & (each valor = unVoto valor) ])		ifTrue: [ ^ self ].	votos		detect: [ :each | each votante = unVoto votante & (each valor ~= unVoto valor) ]		ifFound: [ :votoContrario | votos remove: votoContrario ].	votos add: unVoto! !!Publicacion methodsFor: 'adding elements' stamp: 'DoloresGarcia 3/29/2020 23:32'!devolverPuntaje  self subclassResponsibility.! !!Publicacion methodsFor: 'accessing' stamp: 'DoloresGarcia 3/30/2020 23:09'!autor   ^autor.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Publicacion class	instanceVariableNames: ''!!Publicacion class methodsFor: 'construction' stamp: 'HC 4/5/2020 01:17'!texto: unTexto autor: unAutor  ^ (self new texto: unTexto autor:unAutor).! !Publicacion subclass: #Pregunta	instanceVariableNames: 'titulo respuestas topicos'	classVariableNames: ''	poolDictionaries: ''	category: 'OO2-cuOOra'!!Pregunta methodsFor: 'public' stamp: 'DoloresGarcia 3/29/2020 23:43'!devolverPuntaje   ^20.! !!Pregunta methodsFor: 'public' stamp: 'HC 4/5/2020 00:05'!tieneTopico: unTopico  ^(topicos anySatisfy: [:topico | topico = unTopico]).! !!Pregunta methodsFor: 'public' stamp: 'DoloresGarcia 4/4/2020 21:16'!eliminarRespuestas  respuestas do: [ : respuesta | respuesta eliminarse ].  respuestas removeAll.! !!Pregunta methodsFor: 'initialization' stamp: 'DoloresGarcia 4/4/2020 21:08'!initialize: unTitulo with: algunosTopicos  titulo:= unTitulo.  topicos:= algunosTopicos.  respuestas:= OrderedCollection new.! !!Pregunta methodsFor: 'initialization' stamp: 'HC 4/5/2020 01:07'!titulo: unTitulo topicos: algunosTopicos  titulo:= unTitulo.  topicos:= algunosTopicos.  respuestas:= OrderedCollection new.! !!Pregunta methodsFor: 'adding elements' stamp: 'DoloresGarcia 3/31/2020 19:36'!agregarRespuesta: unaRespuesta  respuestas add: unaRespuesta.  unaRespuesta comprobarAutor: self autor.! !!Pregunta methodsFor: 'accesing' stamp: 'DoloresGarcia 4/4/2020 20:34'!respuestas  ^ respuestas asSortedCollection: [: respuesta1 :respuesta2 | respuesta1 valoracion > respuesta2 valoracion ].! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Pregunta class	instanceVariableNames: ''!!Pregunta class methodsFor: 'construction' stamp: 'HC 4/5/2020 01:17'!titulo: unTitulo texto: unTexto autor: unAutor topicos: algunosTopicos  ^ ((self texto: unTexto autor: unAutor) titulo: unTitulo topicos:algunosTopicos).! !Publicacion subclass: #Respuesta	instanceVariableNames: 'puntaje'	classVariableNames: ''	poolDictionaries: ''	category: 'OO2-cuOOra'!!Respuesta methodsFor: 'initialization' stamp: 'DoloresGarcia 3/31/2020 19:28'!initialize  puntaje := 50.! !!Respuesta methodsFor: 'public' stamp: 'DoloresGarcia 3/31/2020 12:55'!devolverPuntaje  ^puntaje.! !!Respuesta methodsFor: 'public' stamp: 'DoloresGarcia 3/31/2020 19:35'!comprobarAutor: unAutor.  (self autor = unAutor) ifTrue: [ self actualizarPuntaje ].! !!Respuesta methodsFor: 'public' stamp: 'DoloresGarcia 3/30/2020 00:07'!eliminarse	autor borrarRespuesta: self.	! !!Respuesta methodsFor: 'public' stamp: 'DoloresGarcia 3/31/2020 19:30'!actualizarPuntaje  puntaje:= 0.! !!Respuesta methodsFor: 'public' stamp: 'DoloresGarcia 4/4/2020 20:15'!valoracion  ^((self cantidadVotos: true) - (self cantidadVotos: false)).! !!Respuesta methodsFor: 'public' stamp: 'DoloresGarcia 4/4/2020 21:26'!cantidadVotos: unValor  ^((votos select: [: voto | voto valor = unValor ]) size).  ! !Object subclass: #Sistema	instanceVariableNames: 'usuarios topicos'	classVariableNames: ''	poolDictionaries: ''	category: 'OO2-cuOOra'!!Sistema commentStamp: 'HC 3/29/2020 19:34' prior: 0!Instance Variables	topicos:		Topico[*]	usuarios:		Usuario[*]!!Sistema methodsFor: 'as yet unclassified' stamp: 'HC 4/4/2020 23:51'!preguntasDeUnTopico: unTopico	^self mergeColecciones: (usuarios collect: [:each| each preguntasDeUnTopico: unTopico]).	! !!Sistema methodsFor: 'as yet unclassified' stamp: 'HC 3/29/2020 17:31'!agregarUsuario:unUsuario	usuarios add: unUsuario.! !!Sistema methodsFor: 'as yet unclassified' stamp: 'HC 4/4/2020 23:50'!mergeColecciones: coleccionDeColecciones"Toma una colecion que tiene dentro colecciones y las une en una sola"|coleccion|	coleccion:=OrderedCollection new.		coleccionDeColecciones do: [ :each | coleccion addAll: each ].		^(coleccion)! !!Sistema methodsFor: 'as yet unclassified' stamp: 'HC 3/29/2020 17:32'!agregarTopico: unTopico	topicos add: unTopico.! !!Sistema methodsFor: 'accessing' stamp: 'HC 4/4/2020 23:55'!topicos^topicos  ! !!Sistema methodsFor: 'accessing' stamp: 'HC 4/4/2020 23:55'!usuarios^usuarios! !!Sistema methodsFor: 'initialization' stamp: 'HC 3/29/2020 18:36'!initialize 	usuarios:= OrderedCollection new.	topicos:= OrderedCollection new.! !Object subclass: #Topico	instanceVariableNames: 'nombre descripcion'	classVariableNames: ''	poolDictionaries: ''	category: 'OO2-cuOOra'!!Topico methodsFor: 'initialization' stamp: 'DoloresGarcia 4/4/2020 20:57'!initialize: unNombre with: unaDescripcion  nombre := unNombre.  descripcion := unaDescripcion.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Topico class	instanceVariableNames: ''!!Topico class methodsFor: 'construction' stamp: 'DoloresGarcia 3/30/2020 01:48'!nombre: unNombre descripcion: unaDescripcion  ^ self new initialize: unNombre with: unaDescripcion.! !Object subclass: #Usuario	instanceVariableNames: 'nombre contraseña creacion seguidos topicosInteres preguntasRealizadas respuestasRealizadas'	classVariableNames: ''	poolDictionaries: ''	category: 'OO2-cuOOra'!!Usuario commentStamp: 'HC 3/29/2020 19:34' prior: 0!creacion:Usuario nombre: "Juan" contraseña: "Juan2020"    Instance Variables	contraseña:		String	creacion:		DateAndTime	nombre:		String	preguntasRealizadas:	 Pregunta[*]	respuestasRealizadas:		Respuestas[*]	seguidos:		Usuarios[*]	topicosInteres:		Topico[*]!!Usuario methodsFor: 'as yet unclassified' stamp: 'HC 3/29/2020 19:10'!mergeColecciones: coleccionDeColecciones"Toma una colecion que tiene dentro colecciones y las une en una sola"|coleccion|	coleccion:=OrderedCollection new.		coleccionDeColecciones do: [ :each | coleccion addAll: each ].		^(coleccion)! !!Usuario methodsFor: 'as yet unclassified' stamp: 'HC 4/5/2020 00:20'!preguntasDeUnTopico: unTopico	^ preguntasRealizadas select: [ :each| each tieneTopico: unTopico].! !!Usuario methodsFor: 'initialization' stamp: 'HC 3/29/2020 18:36'!initialize 	seguidos:= OrderedCollection new.	topicosInteres:= OrderedCollection new.	preguntasRealizadas:= OrderedCollection new.	respuestasRealizadas:= OrderedCollection new.	creacion:= DateAndTime now.	! !!Usuario methodsFor: 'add/remove' stamp: 'HC 3/29/2020 17:43'!agregarTopicoDeInteres: unTopico	topicosInteres add: unTopico! !!Usuario methodsFor: 'add/remove' stamp: 'HC 3/29/2020 18:27'!seguir: unUsuario	seguidos add: unUsuario! !!Usuario methodsFor: 'add/remove' stamp: 'HC 3/29/2020 17:44'!agregarRespuesta: unaRespuesta	respuestasRealizadas add: unaRespuesta! !!Usuario methodsFor: 'add/remove' stamp: 'HC 3/29/2020 19:22'!nombre: unNombre contraseña: unaContraseña	nombre:= unNombre.	contraseña:= unaContraseña.! !!Usuario methodsFor: 'add/remove' stamp: 'HC 3/29/2020 18:04'!borrarPregunta: unaPregunta	preguntasRealizadas		remove: unaPregunta		ifAbsent: [ ^ 'error: no se encuentra la pregunta.' ]! !!Usuario methodsFor: 'add/remove' stamp: 'HC 3/29/2020 18:04'!borrarRespuesta: unaRespuesta	respuestasRealizadas		remove: unaRespuesta		ifAbsent: [ ^ 'error: no se encuentra la respuesta.' ]! !!Usuario methodsFor: 'add/remove' stamp: 'HC 3/29/2020 17:43'!agregarPregunta: unaPregunta	preguntasRealizadas add: unaPregunta! !!Usuario methodsFor: 'preguntas' stamp: 'HC 4/5/2020 00:39'!preguntasRelevantes: cuora|preguntas|preguntas:=(self preguntasDeSeguidos).preguntas addAll: (self preguntasDeTopicosInteres:cuora).^preguntas! !!Usuario methodsFor: 'preguntas' stamp: 'HC 4/5/2020 00:32'!preguntasDeTopicosInteres: cuora	^ self		mergeColecciones: (topicosInteres collect: [ :each | cuora preguntasDeUnTopico: each])! !!Usuario methodsFor: 'preguntas' stamp: 'HC 3/29/2020 19:47'!preguntasRelevantes	^ (self preguntasDeSeguidos		addAll: (self preguntasDeTopicosInteres))! !!Usuario methodsFor: 'preguntas' stamp: 'HC 3/29/2020 19:11'!preguntasDeSeguidos	^ self		mergeColecciones: (seguidos collect: [ :each | each preguntasRealizadas ])! !!Usuario methodsFor: 'accessing' stamp: 'DoloresGarcia 3/30/2020 22:59'!contraseña   ^contraseña.! !!Usuario methodsFor: 'accessing' stamp: 'DoloresGarcia 3/30/2020 22:59'!nombre  ^nombre.! !!Usuario methodsFor: 'accessing' stamp: 'HC 3/29/2020 17:49'!respuestasRealizadas	^respuestasRealizadas.! !!Usuario methodsFor: 'accessing' stamp: 'HC 3/29/2020 20:54'!seguidos	^seguidos ! !!Usuario methodsFor: 'accessing' stamp: 'HC 4/5/2020 00:29'!topicosDeInteres	^topicosInteres ! !!Usuario methodsFor: 'accessing' stamp: 'HC 3/29/2020 17:49'!preguntasRealizadas	^(preguntasRealizadas).! !!Usuario methodsFor: 'puntaje' stamp: 'HC 3/29/2020 19:09'!puntajeDeUsuario	^ (self puntajes: respuestasRealizadas)		+ (self puntajes: preguntasRealizadas)! !!Usuario methodsFor: 'puntaje' stamp: 'HC 3/29/2020 18:18'!puntajes: unaColeccion	^ unaColeccion sumNumbers: [ :each | each devolverPuntaje ]! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Usuario class	instanceVariableNames: ''!!Usuario class methodsFor: 'add/remove' stamp: 'HC 3/29/2020 19:26'!nombre: unNombre contraseña: unaContraseña.	^(self new nombre: unNombre contraseña: unaContraseña). ! !Object subclass: #Voto	instanceVariableNames: 'valor creacion votante'	classVariableNames: ''	poolDictionaries: ''	category: 'OO2-cuOOra'!!Voto methodsFor: 'initialization' stamp: 'DoloresGarcia 3/30/2020 00:24'!initialize: unValor with: unUsuario  valor:= unValor.  votante:= unUsuario.  creacion:= DateAndTime now.! !!Voto methodsFor: 'accessing' stamp: 'DoloresGarcia 3/30/2020 00:18'!valor  ^valor.! !!Voto methodsFor: 'accessing' stamp: 'DoloresGarcia 3/30/2020 01:29'!valor: unValor  valor:= unValor.! !!Voto methodsFor: 'accessing' stamp: 'DoloresGarcia 3/30/2020 00:44'!votante  ^votante.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!Voto class	instanceVariableNames: ''!!Voto class methodsFor: 'construction' stamp: 'DoloresGarcia 3/30/2020 00:23'!valor: unValor votante: unUsuario  ^self new initialize: unValor with: unUsuario.! !